# A-Shellの違い

この記事では、a-Shellの特徴、制限、および代替との比較について三つのトピックについて語ります。

### 特徴

#### ショートカット

これはa-Shellの最も歓迎されている機能の一つです。WorkFlowでサポートされているショートカットは簡単に見つけることができます：

<figure><img src="../.gitbook/assets/52D449EE-B42E-4AC7-B5EA-89CB287D8FA7.jpeg" alt=""><figcaption><p>3つのサポートされているショートカット: コマンドの実行、ファイルの取得、ファイルの保存</p></figcaption></figure>

WorkFlowを使用することで、シェルでできることが大幅に拡張されています。

デフォルトでは、ショートカットによって生成されたすべてのファイルは `~shortcuts/` に保存されます。

#### ここからここへ

`z` コマンドは組み込まれています。これを使用すると、ディレクトリ間を簡単に移動できます。さらに、`z` は `autojump` よりも軽量で高速であり、a-Shellにはより適しています。

ディレクトリにブックマークを追加することもサポートされています。 `bookmark <name>` を使用して現在のディレクトリにブックマークを追加し、 `cd ~<name>` または `jump <name>` を使用してブックマークにジャンプし、 `showmarks` を使用してすべての現在のブックマークを表示し、 `renamemark` を使用してブックマークの名前を変更し、 `deletemark` を使用して削除します。

パラメータなしで `cd` を実行すると、初期ディレクトリである `~/Documents` に移動します。 `cd -` は最後にいたディレクトリに移動します。

#### iOS/iPadOS とのやりとり

他のアプリと対話するための一連のコマンドが提供されています。 `open <file>` を使用してファイルを他のアプリと共有します：

<figure><img src="../.gitbook/assets/626A2672-C4E6-4F3C-8FAD-EEAEC60882AE.jpeg" alt=""><figcaption><p>共有インターフェース</p></figcaption></figure>

`view` を使用してファイルを高速に表示し、これはPDF/HTMLファイルや画像に役立つかもしれません。

<figure><img src="../.gitbook/assets/58BB49F1-0C92-4FFC-8FCF-A4EA9F0FAB20.jpeg" alt=""><figcaption><p>HTMLページの表示</p></figcaption></figure>

`play` コマンドを使用してオーディオ/ビデオファイルを再生します。

<figure><img src="../.gitbook/assets/D61372EE-CB56-476C-921D-A720D67B4418.jpeg" alt=""><figcaption><p>再生中のオーディオファイル</p></figcaption></figure>

`open` を介してa-Shellから簡単にファイルを共有できますが、逆にa-Shellへ直接ファイルを共有することはできません。幸いなことに、ショートカットを使用するとこれを実現できます。前述のように、a-Shellに共有されたすべてのファイルは `~shortcuts/` に保存されます。別の場所に保存する場合は、ショートカットを使用してコマンドを自動的に実行することを検討してください。

#### ファイルへのアクセス

`pickFolder` コマンドを使用すると、a-ShellはiPhone/iPad上の他の場所にアクセスできます。たとえばiCloudです。

また、Filesを使用して `~/Documents/` フォルダを読み書きできます。 "My iPhone" / "My iPad" に切り替えると、 "a-Shell" というディレクトリが表示されます。ただし、`~/Documents/` の外のファイルは読み取ることができません。

### 制限

制限は主にAppleからおよびFSF（Free Software Foundation）から来ています。

#### Appleからの制限

Appleの制限により、a-Shellからアクセスできるのは次のディレクトリのみです： `~/Documents/`、`~/Library`、`~/tmp`。これにより、a-Shellのファイル構造が一般的でなくなりました。すべてのユーザー設定ファイルは `~/Documents/` に保存されており、 `$HOME` も `~/Documents/` に設定されています。このファイル構造は、特にクロスコンパイルなどのビルド作業を複雑にし、注意して扱う必要があります。

実行可能ファイルは、iOS/iPadOS用のネイティブコードまたはWebAssemblyファイルのいずれかです。Appleの制限により、すべてのネイティブコードはリリース時にアプリ自体と一緒に提供する必要が

あります。新しいコマンドをネイティブコードで追加するには、開発者証明書を再署名してアプリ全体をApp Storeにリリースし、すべてのユーザーがその更新を受け取る必要があります。

ネイティブコードの場合、iOSの `arm64` では `fork()`、`exec()`、`system()`などの多くの機能が利用できません。a-ShellはPOSIXプログラムのために `fork()` と `exec()` をエミュレートしており、それは完璧ではありませんが十分です。WebAssemblyも非常に制限されており、ほとんどのコマンドをWebAssemblyにコンパイルすることはできません。

Appleの制限のために `sudo` も利用できず、`traceroute` のようなスーパーユーザー特権が必要なプログラムは動作しません。

ジェイルブレイクされたデバイスのユーザーにとって、a-Shellには違いがあるかもしれません。たとえば、ファイルシステム全体に読み書きできるようになり、問題が発生する可能性があります。これらのいずれかに遭遇した場合は、遠慮せずに問題を報告してください！

#### FSF（Free Software Foundation）からの制限

GPLライセンスの下でのプログラムの使用には実際には多くの制約があります。App Storeの配布にGPLコードを含めることは許可されていないかもしれません。すべての寄稿者の許可を求める必要があり、これは非常に難しいかもしれません。したがって、a-ShellにはGPLコードを含めず、代わりにBSDや他のライセンスの下で利用可能な代替手段を見つけることが提案されています。この理由から、 `bash`、`emacs`、`nano` など、多くの優れたプログラムは含めることができません。

### 他の選択肢との比較

以下は、a-Shellといくつかの代替との比較です。どれがあなたに適しているかを見つけることができるかもしれません。

#### iSH

iSHはiOS/iPadOSのためのLinuxエミュレータで、Linux x86コマンドを変換するためにsyscallを使用しています。もちろん、ジェイルブレイクなしでiOSデバイスでAlpineを使用するのは興味深いです。

エミュレートレイヤーを使用すると、iSHはa-Shellよりも多くのことができます。通常のbashスクリプトを実行したり、ネイティブバイナリコードをコンパイルして実行したり、`apk`を使用して多くのパッケージをインストールしたりできます。ただし、iSHでは好きなことが何でもできるわけではありません。 `node.js` や一部の重要なツールはサポートされていません。さらに、iSHはa-Shellよりもはるかに遅く、不安定です。シンプルなPythonスクリプトを待つのに10秒かかったり、Gitリポジトリをクローンするのに1分かかったりするのはあまり嬉しくありませんよね？

#### Blink Shell

BlinkはiOS/iPadOSのリモートデバイス接続ツールで、Linuxでも使用できます。現在、iOSデバイスでの最高のターミナルエクスペリエンスを提供しています。Blink Shellのコマンド機能は `ios_system` に基づいており、これはa-Shellと同じですので、ここにリストされています。

Blink Shellは見栄えが良く、使いやすい構成メニューがあり、強力なリモートワーキング機能を提供しているため、iOS/iPadOSのSSH/Moshクライアントとしてお勧めです。ただし、Blink Shell自体はa-Shellよりもはるかに弱く、基本的なUNIXコマンドしかサポートしていません。リポジトリからクローンすることさえできません！

Blink CodeはBlinkのもう一つの歓迎されている機能です。どこでもiPadでVSCodeでコーディングすることを想像してください！ただし、これは `vscode.dev` に基づいています。実際、iPadでネイティブのVSCodeを実行する方法はまだありません。

Blinkも完全に無料ではありません。無料プランのユーザーは毎日「プロになる時間です」という画面を受け取ります。一定の時間「休憩」しなければならず、それを解除するには高度なプランを購入する必要があります。

#### NewTerm

NewTermはAppleデバイス向けのターミナルアプリケーションです。iPhoneやiPadでは、jailbreakが必要です。これは真のターミナルエミュレータで、完全にAppleデバイスを制御できます。この機能はjailbrokenユーザーに歓迎されています。もちろん、a-Shellができることよりもはるかに多くのことができます。

機能に加えて、NewTermにはタブベースのインターフェースと優れたフォントサポートもあります。ただし、ショートカットやその他の機能のためにa-Shellを好むjailbrokenユーザーもいます。

#### Termux

TermuxはAndroidデバイス向けのターミナルエミュレータで、それらのためにLinux環境をサポートしています。パッケージの管理には`pkg`を使用します。

Linuxサブシステムに基づいているため、Termuxは`bash`、`zsh`、または`fish`など、さまざまなプログラムを実行する強力な能力を持っています。さらに、多くの開発ツールが組み込まれており、ユーザーはビルドやデバッグを行うことができます。また、AndroidのAPIを使用してSMSボックスの読み取りなども可能です。

Termuxは`proot`を提供しており、ここで完全なLinuxシステムをインストールし、ほぼすべての作業を行うことができます。対照的に、iOSデバイスができることの範囲ははるかに小さいです。
